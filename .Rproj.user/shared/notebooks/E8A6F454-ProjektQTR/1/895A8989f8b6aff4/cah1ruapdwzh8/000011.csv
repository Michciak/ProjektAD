"0","#| layout-ncol: 3"
"0",""
"0","ggdane <- game_sales"
"0",""
"0","ggdane2 <- ggdane %>%"
"0","  mutate(Sales=NA_Sales*10000000) %>%"
"0","  select(Platform,Sales) %>%"
"0","  aggregate(.~Platform, FUN = sum, drop = FALSE) "
"0","ggdane$Platform <- fct_collapse(ggdane$Platform, Other = as.vector(ggdane2$Platform[which(ggdane2$Sales<sum(ggdane2$Sales*0.01))]))"
"0",""
"0","ggdane$Sort <- ggdane$Sort <- c(rep(0,nrow(ggdane)))"
"0","ggdane$Sort[which(ggdane$Platform == ""Other"")] <- 1"
"0",""
"0","ggdane%>%"
"0","  mutate(Sales=NA_Sales*10000000) %>%"
"0","  select(Platform,Sales,Sort) %>%"
"0","  aggregate(.~Platform, FUN = sum, drop = FALSE) %>%"
"0","  group_by(Platform) %>%"
"0","  arrange(Sort,desc(Sales),Platform) %>%"
"0","  ungroup() %>%"
"0","  mutate(texto = paste0(Platform,"" "", "
"0","           name = ""Sprzedanych kopii gier w Ameryce Północnej"""
"0","    ) %>%"
"0","      text = ""Udział platform w Ameryce Północnej w latach 1980-2016"","
"0","      align = ""left"","
"0","      style = list(color = ""black"", useHTML = TRUE)"
